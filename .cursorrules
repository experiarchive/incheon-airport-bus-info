# 인천공항 공항버스 정보 웹사이트 - Project Intelligence

## 프로젝트 컨텍스트

이 프로젝트는 인천공항을 오가는 공항버스 정보를 제공하는 웹사이트입니다. Astro + Sanity.io + Tailwind CSS를 기반으로 하며, 비개발자가 AI의 도움을 받아 구축하고 있습니다.

**핵심 목표:** 사용자 친화적인 버스 정보 제공 + AdSense 수익화

## 학습된 핵심 패턴

### 사용자 피드백 패턴
1. **구체적 시각적 피드백** → 즉시 UI 조정 필요
   - "시간표 섹션의 시각적 혼란" → 버튼 색상/간격 조정
   - "정류장 목록과 지도 간격" → 그리드 간격 최적화

2. **모바일 우선 사고** → 항상 모바일 경험을 먼저 고려
   - 사용자는 공항에서 모바일로 정보를 찾음
   - 터치 친화적 인터페이스가 필수
   - 스크롤 압박감 최소화가 중요

3. **점진적 개선 선호** → 대대적 변경보다 세부 조정
   - 한 번에 모든 것을 바꾸지 않음
   - 작은 개선사항의 누적 효과 선호

### 기술적 패턴

#### Astro 사용 패턴
```javascript
// 빌드 타임 데이터 페칭 패턴
const routes = await client.fetch(`
  *[_type == "busRoute"]{
    routeName, 
    routeNumber, 
    description, 
    mainStops
  }
`);
```

#### Tailwind CSS 최적화 패턴
```css
/* 모바일 퍼스트 + 점진적 향상 */
gap-4 p-4 md:gap-6 md:p-6

/* 카드 호버 효과 표준 */
hover:shadow-xl transition-all duration-300 transform hover:scale-105
```

#### 컴포넌트 구조 패턴
- **Layout.astro**: 공통 구조 + 메타 태그 관리
- **페이지 컴포넌트**: 데이터 페칭 + UI 렌더링
- **빈 상태 처리**: 항상 데이터 없음 상황 고려

### 데이터 관리 패턴

#### 이중 데이터 소스 전략
1. **Sanity.io**: 기본 노선 정보 (routeName, routeNumber, description)
2. **NDJSON 파일**: 상세 시간표 데이터 (departureTimes 배열)

이유: 시간표는 자주 변경되고 대용량이므로 파일로 분리

#### 데이터 구조 일관성
```json
{
  "routeNumber": "6705A",  // 항상 문자열
  "direction": "공항행|시내행",  // 고정 값
  "dayType": "everyday",   // 향후 "weekday", "weekend" 확장 가능
}
```

## 사용자 경험 인사이트

### 핵심 사용자 여정
1. **계획 단계**: 집 → 노선 찾기 → 시간표 확인
2. **이동 단계**: 공항 → 실시간 위치 확인 → 정류장 찾기

### UI 우선순위 결정 원칙
1. **정보 밀도**: 많은 정보보다 필요한 정보만 명확하게
2. **터치 영역**: 모바일에서 충분한 터치 영역 확보
3. **시각적 계층**: 중요도에 따른 명확한 시각적 구분

### 색상 및 디자인 결정
- **Primary Blue (#2563eb)**: 신뢰성 + 교통 정보와 어울림
- **카드 기반 디자인**: 정보 그룹화에 효과적
- **그리드 시스템**: `grid-cols-1 md:grid-cols-2 lg:grid-cols-3`

## 개발 워크플로우 패턴

### 효과적인 협업 패턴
1. **문제 정의** → 구체적 해결책 제시 → 사용자 승인 → 구현
2. **실시간 피드백**: 변경사항을 즉시 확인할 수 있도록
3. **점진적 개선**: 한 번에 하나씩 문제 해결

### 문서화 패턴
- **Memory Bank 시스템**: 프로젝트 컨텍스트 보존
- **Act Mode**: 체계적인 작업 수행
- **Progress 추적**: 명확한 진행상황 관리

## 성능 최적화 인사이트

### Astro 활용 최적화
- 정적 사이트 생성으로 빠른 로딩 보장
- 빌드 타임 데이터 페칭으로 런타임 부하 감소
- Islands 아키텍처로 필요한 곳에만 JavaScript 사용

### Tailwind CSS 최적화
- 퍼지를 통한 사용하지 않는 클래스 제거
- 커스텀 유틸리티보다 기본 클래스 우선 사용
- 반응형 클래스의 일관된 패턴 적용

## 향후 확장 시 고려사항

### 기술적 확장
1. **검색 기능**: 클라이언트 사이드 필터링 vs 서버 사이드 검색
2. **실시간 데이터**: iframe → API 전환 시 고려사항
3. **다국어**: Astro i18n 플러그인 활용 계획

### 콘텐츠 확장
1. **시간표 업데이트**: 자동화 vs 수동 관리
2. **노선 추가**: Sanity.io 스키마 확장성
3. **추가 정보**: 요금, 소요시간, 환승 정보

## 알려진 함정과 해결책

### Astro 관련
- **빌드 타임 에러**: Sanity.io 연결 실패 시 명확한 에러 메시지 부족
- **타입 안전성**: TypeScript 인터페이스 정의로 런타임 에러 방지

### Sanity.io 관련
- **GROQ 쿼리**: 복잡한 관계는 단순하게 분리하여 처리
- **참조 관계**: 과도한 참조보다 단순한 구조 선호

### Tailwind CSS 관련
- **클래스 순서**: 일관된 순서 유지 (레이아웃 → 스타일링 → 상호작용)
- **반응형 접근**: 모바일부터 시작하여 점진적 확장

## 프로젝트 특화 베스트 프랙티스

### 파일 구조
```
astro-frontend/src/
├── layouts/Layout.astro       # 공통 레이아웃
├── pages/                     # 페이지 파일
├── components/               # 재사용 컴포넌트
├── lib/sanityClient.js       # 데이터 연결
└── styles/                   # 전역 스타일
```

### 코딩 패턴
```javascript
// 데이터 페칭 패턴
const data = await client.fetch(query);

// 에러 처리 패턴
{data && data.length > 0 ? (
  // 정상 콘텐츠
) : (
  // 빈 상태 UI
)}
```

### 스타일링 패턴
```css
/* 카드 컴포넌트 표준 */
.card {
  @apply bg-white dark:bg-gray-800 rounded-lg shadow-md 
         hover:shadow-xl transition-all duration-300 
         border border-gray-200 dark:border-gray-700;
}
```

## 성공 지표 및 목표

### 기술적 목표
- 페이지 로딩 속도: 3초 이내
- Lighthouse 점수: 90점 이상
- 모바일 사용성: 완벽한 반응형

### 사용자 경험 목표
- 3클릭 이내 원하는 정보 접근
- 모바일에서 편안한 사용 경험
- 직관적인 정보 구조

### 사업적 목표
- Google AdSense 승인
- 월 방문자 10,000명 이상
- 공항버스 관련 검색 상위 노출

---

이 프로젝트는 지속적으로 사용자 피드백을 반영하며 점진적으로 개선되고 있습니다. 모든 변경사항은 모바일 우선 접근법과 사용자 경험 최우선 원칙을 기반으로 결정됩니다. 